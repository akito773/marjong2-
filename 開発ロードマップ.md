# 麻雀ゲーム開発ロードマップ

## フェーズ1: プロジェクト基盤構築 (期間: 1-2週間)

### 1.1 環境セットアップ
- [ ] Gitリポジトリ初期化
- [ ] プロジェクト構造作成
- [ ] TypeScript環境構築
- [ ] 開発ツール設定（ESLint, Prettier, tsconfig.json）
- [ ] package.json設定（client/server分離）

### 1.2 共通型定義実装
- [ ] `shared/types/Tile.ts` - 牌型定義
- [ ] `shared/types/Hand.ts` - 手牌型定義  
- [ ] `shared/types/SocketEvents.ts` - WebSocketイベント型
- [ ] `shared/types/Player.ts` - プレイヤー情報型
- [ ] `shared/types/Game.ts` - ゲーム状態型

### 1.3 基本サーバー構築
- [ ] Express + Socket.IOサーバー構築
- [ ] Hello Worldエンドポイント作成
- [ ] WebSocket接続確認

### 1.4 基本クライアント構築
- [ ] React プロジェクト作成
- [ ] Socket.IOクライアント接続
- [ ] 基本UI画面作成

## フェーズ2: ゲームエンジン核心部分 (期間: 2-3週間)

### 2.1 牌管理システム
- [ ] `TileManager` クラス実装
  - [ ] 牌山生成・シャッフル機能
  - [ ] 配牌機能
  - [ ] ツモ機能
  - [ ] 赤ドラ対応

### 2.2 プレイヤー管理
- [ ] `Player` クラス実装
  - [ ] 手牌管理
  - [ ] 点数管理
  - [ ] 親子情報管理
  - [ ] リーチ状態管理

### 2.3 ゲーム進行管理
- [ ] `GameManager` クラス実装
  - [ ] 局進行制御
  - [ ] ターン管理
  - [ ] 局終了判定
  - [ ] 流局処理

### 2.4 基本的な役判定
- [ ] `ScoringEngine` クラス基礎実装
  - [ ] 基本役（リーチ、タンヤオ、ピンフなど）
  - [ ] 符計算
  - [ ] 点数計算基礎

## フェーズ3: シングルプレイヤー完成 (期間: 2-3週間)

### 3.1 AI実装
- [ ] `AIPlayer` クラス実装
  - [ ] 基本的な打牌選択ロジック
  - [ ] 鳴き判定（チー・ポン・カン）
  - [ ] リーチ判定
  - [ ] 和了判定

### 3.2 完全な役判定・点数計算
- [ ] 全役種対応
- [ ] ドラ・裏ドラ対応
- [ ] 役満対応
- [ ] 複雑な点数計算

### 3.3 UI実装
- [ ] 牌の描画システム
- [ ] 手牌表示
- [ ] 場の表示
- [ ] アクションボタン
- [ ] 点数表示

### 3.4 ゲームフロー完成
- [ ] 1局通しでのゲーム動作
- [ ] 半荘（東南戦）対応
- [ ] 終局処理
- [ ] 順位計算

## フェーズ4: ローカルマルチプレイヤー (期間: 1-2週間)

### 4.1 WebSocket通信完成
- [ ] Socket.IOイベント実装
- [ ] ルーム管理機能
- [ ] プレイヤー参加・離脱処理
- [ ] 同期処理

### 4.2 マルチプレイヤーUI
- [ ] 4人用画面レイアウト  
- [ ] 他プレイヤーの状態表示
- [ ] チャット機能（オプション）
- [ ] 観戦機能（オプション）

## フェーズ5: オンラインマルチプレイヤー (期間: 2-3週間)

### 5.1 認証システム
- [ ] ユーザー登録・ログイン
- [ ] セッション管理
- [ ] プロフィール機能

### 5.2 マッチング機能
- [ ] ルーム作成・検索
- [ ] 自動マッチング
- [ ] フレンド対戦

### 5.3 永続化
- [ ] データベース設計・実装
- [ ] 対戦履歴保存
- [ ] ランキング機能

## フェーズ6: 運用・拡張 (継続的)

### 6.1 サーバー運用
- [ ] PM2設定
- [ ] ログ管理
- [ ] エラー監視
- [ ] パフォーマンス監視

### 6.2 機能拡張
- [ ] 観戦モード
- [ ] リプレイ機能
- [ ] 統計情報
- [ ] イベント機能

### 6.3 改善・最適化
- [ ] パフォーマンス最適化
- [ ] UI/UX改善
- [ ] バグ修正
- [ ] セキュリティ強化

---

**重要な設計原則:**
- 段階的な開発を重視
- 各フェーズで動作確認を徹底
- 型安全性を重視したTypeScript活用
- テスト駆動開発の採用
- パフォーマンスを考慮した設計